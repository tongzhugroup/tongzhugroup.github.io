<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://images.weserv.nl"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/logo.jpg"><link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/logo.jpg"><link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/logo.jpg"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/logo.jpg" color="#222"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@568e762e3cf04f4a8f276a74e24dd0a09094688b/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"computchem.cn",root:"/",images:"https://cdn.jsdelivr.net/npm/hexo-theme-next@8.2.0/source/images",scheme:"Muse",version:"8.2.0",exturl:!0,sidebar:{position:"right",display:"hide",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"Searching...",empty:"We didn't find any results for the search: ${query}",hits_time:"${hits} results found in ${time} ms",hits:"${hits} results found"}}</script><meta name="description" content="原作者：曾晋哲 原链接： https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;DeQZKwoyxXK7rHhhmdgTmw https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MsEtgnN\_mi-auiFyXYUquA 假定已经安装了Anaconda（建议使用最新版2019.07），已连接互联网，则 1.安装tensorflow（如仅需CPU版本的TensorFlow，则将tensorfl"><meta property="og:type" content="website"><meta property="og:title" content="[转载] 安装 DeepMD-kit v1.0"><meta property="og:url" content="https://computchem.cn/%E8%BD%AC%E8%BD%BD-%E5%AE%89%E8%A3%85-deepmd-kit-v1-0/index.html"><meta property="og:site_name" content="Tong Zhu Research Group"><meta property="og:description" content="原作者：曾晋哲 原链接： https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;DeQZKwoyxXK7rHhhmdgTmw https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MsEtgnN\_mi-auiFyXYUquA 假定已经安装了Anaconda（建议使用最新版2019.07），已连接互联网，则 1.安装tensorflow（如仅需CPU版本的TensorFlow，则将tensorfl"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-10-08T16:50:12.000Z"><meta property="article:modified_time" content="2019-10-08T16:50:12.000Z"><meta property="article:author" content="Tong Zhu"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://computchem.cn/%E8%BD%AC%E8%BD%BD-%E5%AE%89%E8%A3%85-deepmd-kit-v1-0/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!1,lang:"en"}</script><title>[转载] 安装 DeepMD-kit v1.0 | Tong Zhu Research Group</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap-grid.min.css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Tong Zhu Research Group</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">The first and greatest victory is to conquer yourself; to be conquered by yourself is of all things most shameful and vile!</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section">HOME</a></li><li class="menu-item menu-item-team"><a href="/people/" rel="section">TEAM</a></li><li class="menu-item menu-item-research"><a href="/research/" rel="section">RESEARCH</a></li><li class="menu-item menu-item-publications"><a href="/publications/" rel="section">PUBLICATIONS</a></li><li class="menu-item menu-item-softwares"><a href="/softwares/" rel="section">SOFTWARES</a></li><li class="menu-item menu-item-teaching"><a href="/teaching/" rel="section">TEACHING</a></li><li class="menu-item menu-item-memory"><a href="/memory/" rel="section">MEMORY</a></li><li class="menu-item menu-item-group-seminar"><a href="/group-seminar/" rel="section">GROUP SEMINAR</a></li><li class="menu-item menu-item-tips"><a href="/tips/" rel="section">TIPS</a></li></ul></nav><img id="banner" src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/header2.jpg" class="header-image" width="1080" height="281" alt="Tong Zhu Research Group"></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Tong Zhu" src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/logo.jpg"><p class="site-author-name" itemprop="name">Tong Zhu</p><div class="site-description" itemprop="description"></div></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul class="links-of-recent-posts-list"><li class="links-of-recent-posts-item"><a href="/2020/05/21/elementor-677/" title="2020&#x2F;05&#x2F;21&#x2F;elementor-677&#x2F;">热风</a></li><li class="links-of-recent-posts-item"><a href="/2019/07/22/our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now/" title="2019&#x2F;07&#x2F;22&#x2F;our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now&#x2F;">Our recent work &#34;Molecular Dynamics Simulation of Zinc Ion in Water with an ab Initio Based Neural Network Potential&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/06/08/our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now/" title="2019&#x2F;06&#x2F;08&#x2F;our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now&#x2F;">Our recent work &#34;Effect of mutations on binding of ligands to guanine riboswitch probed by free energy perturbation and molecular dynamics simulations&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/05/17/congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation/" title="2019&#x2F;05&#x2F;17&#x2F;congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation&#x2F;">Congratulations to Pei, Yu, Yanping, and Jinzhe on graduation!</a></li><li class="links-of-recent-posts-item"><a href="/2019/02/27/congratulations-to-yu-and-jinzhe/" title="2019&#x2F;02&#x2F;27&#x2F;congratulations-to-yu-and-jinzhe&#x2F;">Congratulations to Yu and Jinzhe</a></li><li class="links-of-recent-posts-item"><a href="/2019/01/14/our-work-on-metal-mfcc-got-accepeted/" title="2019&#x2F;01&#x2F;14&#x2F;our-work-on-metal-mfcc-got-accepeted&#x2F;">Our work on Metal-MFCC got accepeted</a></li><li class="links-of-recent-posts-item"><a href="/2018/12/10/tong-attended-the-2018%E5%A4%8D%E6%9D%82%E4%BD%93%E7%B3%BB%E8%AE%A1%E7%AE%97%E7%BB%9F%E8%AE%A1%E5%8A%9B%E5%AD%A6%E7%A0%94%E8%AE%A8%E4%BC%9A-and-gave-a-talk-about-the-force-field-development-for-me/" title="2018&#x2F;12&#x2F;10&#x2F;tong-attended-the-2018复杂体系计算统计力学研讨会-and-gave-a-talk-about-the-force-field-development-for-me&#x2F;">Tong attended the &#34;2018复杂体系计算统计力学研讨会&#34; and gave a talk about the force field development for metallopoteins.</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now/" title="2018&#x2F;07&#x2F;07&#x2F;our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now&#x2F;">Our recent work on the conformational dynamics of Prion available online now</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/tong-attended-the-wccb-2018-and-honored-the-best-poster-award/" title="2018&#x2F;07&#x2F;07&#x2F;tong-attended-the-wccb-2018-and-honored-the-best-poster-award&#x2F;">Tong attended the WCCB 2018 and honored the Best Poster Award</a></li><li class="links-of-recent-posts-item"><a href="/2018/06/18/welcome-to-our-new-website/" title="2018&#x2F;06&#x2F;18&#x2F;welcome-to-our-new-website&#x2F;">Welcome to our new website!</a></li></ul></div></div><div class="widget"><img src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/bg.jpg" alt="" width="500" height="332"></div><div class="widget"><p><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">沪ICP备18023061号-1</a></p><p><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31009102000069"><img loading="lazy" class="alignnone wp-image-740 size-full" src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/beian.png" alt="" width="20" height="20" style="display:inline">沪公网安备 31009102000069号</a></p></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner page posts-expand"><div class="post-block" lang="en"><header class="post-header"><h1 class="post-title" itemprop="name headline">[转载] 安装 DeepMD-kit v1.0</h1><div class="post-meta-container"></div></header><div class="post-body"><p>原作者：曾晋哲</p><p>原链接： <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvRGVRWkt3b3l4WEs3ckhoaG1kZ1Rtdw==">https://mp.weixin.qq.com/s/DeQZKwoyxXK7rHhhmdgTmw<i class="fa fa-external-link-alt"></i></span> <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTXNFdGduTi9fbWktYXVpRnlYWVVxdUE=">https://mp.weixin.qq.com/s/MsEtgnN\_mi-auiFyXYUquA<i class="fa fa-external-link-alt"></i></span></p><p>假定<span class="exturl" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vcz9fX2Jpej1Nekl5TWpBMU1EQTRNUT09Jm1pZD0yNDU1MTM0NDcyJmlkeD0xJnNuPTg2ZmY4MGVkNWQ1OTgzMTVlY2VjM2ExYzFhYjE3YWMxJmNoa3NtPWZmOTFhMzQ2YzhlNjJhNTAzNDBmNTk0NzdmMGRkMzMzZGQ1ZDMyODgyYWY0OTM2MjZkMjdjYWI3YzliNTFmMDVmZmE1MzllMWQ4NjAmc2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0">已经安装了Anaconda<i class="fa fa-external-link-alt"></i></span>（建议使用最新版2019.07），已连接互联网，则</p><p><strong>1.安装tensorflow</strong>（如仅需CPU版本的TensorFlow，则将tensorflow-gpu改为tensorflow）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install tensorflow Successfully installed google-pasta-0.1.7 keras-applications-1.0.8 opt-einsum-3.1.0 tensorboard-2.0.0 tensorflow-estimator-2.0.0 tensorflow-gpu-2.0.0</span><br></pre></td></tr></table></figure><p><strong>2.安装deepmd-kit v1.0：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install git+https://github.com/deepmodeling/deepmd-kit</span><br></pre></td></tr></table></figure><blockquote><p>Building wheels for collected packages: deepmd-kit<br>Building wheel for deepmd-kit (PEP 517) … done<br>Created wheel for deepmd-kit: filename=deepmd_kit-1.0.0-cp37-cp37m-linux_x86_64.whl size=268836 sha256=1f5b1149bbf35c0c96c713cc8b607e0626ad0df6451a7 171d4f6b46acc2d4290<br>Stored in directory: /tmp/pip-ephem-wheel-cache-zlksq4dl/wheels/a2/80/6c/a26fba79e43199eb4cdba7a3686c5370d3620916f5a0ea23ac<br>Successfully built deepmd-kit<br>Installing collected packages: deepmd-kit<br>Successfully built deepmd-kit<br>Installing collected packages: deepmd-kit<br>Successfully installed deepmd-kit-1.0.0</p></blockquote><p><strong>大功告成！现在看一看是否成功安装：</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp -h</span><br></pre></td></tr></table></figure><blockquote><p>usage: dp [-h] {train,freeze,test} …<br>DeePMD-kit: A deep learning package for many-body potential energy representation and molecular dynamics<br>optional arguments:  -h, –help<br>          show this help message and exit Valid subcommands:  {train,freeze,test}<br>   train              train a model<br>   freeze             freeze the model<br>   test               test the model</p></blockquote><p>现在，DeePMD-kit v1.0.0已成功安装。下一期将介绍如何用DP编译LAMMPS</p><h2 id="TensorFlow-安装"><a href="#TensorFlow-安装" class="headerlink" title="TensorFlow 安装"></a>TensorFlow 安装</h2><p>最新版本的 TensorFlow 要求 GLIBC 2.17 以上，尽管推荐做法是找一台最新系统的机子，但是有时候系统的类型不是由自己决定的，通常又没有root权限，又想在所有机子上都能运行 TensorFlow 。 刚好手里有一个超算账号，系统是 Red Hat 4.4.7 ，GLIBC 版本是 2.12 ，就以此为例，安装CPU版本的TensorFlow（反正没有权限也安装不了GPU版本需要的驱动）。</p><hr><h2 id="一、用-Anaconda-3-安装-TensorFlow-1-8"><a href="#一、用-Anaconda-3-安装-TensorFlow-1-8" class="headerlink" title="一、用 Anaconda 3 安装 TensorFlow 1.8"></a>一、用 Anaconda 3 安装 TensorFlow 1.8</h2><p>1.安装 Anaconda 3 见<span class="exturl" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vcz9fX2Jpej1Nekl5TWpBMU1EQTRNUT09Jm1pZD0yNDU1MTM0NDcyJmlkeD0xJnNuPTg2ZmY4MGVkNWQ1OTgzMTVlY2VjM2ExYzFhYjE3YWMxJmNoa3NtPWZmOTFhMzQ2YzhlNjJhNTAzNDBmNTk0NzdmMGRkMzMzZGQ1ZDMyODgyYWY0OTM2MjZkMjdjYWI3YzliNTFmMDVmZmE1MzllMWQ4NjAmc2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0">Linux软件安装②Anaconda3<i class="fa fa-external-link-alt"></i></span> 2.创建 TensorFlow 环境</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda create -n tensorflow pip python&#x3D;3.6</span><br><span class="line">#Proceed ([y]&#x2F;n)? 输y</span><br><span class="line">source activate tensorflow #激活环境</span><br><span class="line">pip install tensorflow -i https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&#x2F;</span><br><span class="line">#这两天由于众所周知的原因，Google官方的镜像又下载不了了，所以这里用了清华大学的镜像</span><br></pre></td></tr></table></figure><h2 id="二、安装-gcc"><a href="#二、安装-gcc" class="headerlink" title="二、安装 gcc"></a>二、安装 gcc</h2><p>这时候打开 Python ，执行 import tensorflow ，提示：</p><blockquote><p>ImportError: /usr/lib64/libstdc++.so.6: version `CXXABI_1.3.7’ not found</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda install -c psi4 gcc-5 </span><br><span class="line">#Proceed ([y]&#x2F;n)? 输y</span><br><span class="line">LD_LIBRARY_PATH&#x3D;$HOME&#x2F;anaconda3&#x2F;envs&#x2F;tensorflow&#x2F;lib:$LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure><p>再此运行 Python，不再提示这个问题。</p><h2 id="三、安装-GLIBC-2-21"><a href="#三、安装-GLIBC-2-21" class="headerlink" title="三、安装 GLIBC 2.21"></a>三、安装 GLIBC 2.21</h2><p>但是提示：</p><blockquote><p>ImportError: /lib64/libc.so.6: version `GLIBC_2.16’ not found</p></blockquote><p>本来应该安装GLIBC 2.17，但是我发现从2.16到2.19都有个bug，不能运行Python 3.6。于是我们安装GLIBC 2.21。 1.下载GLIBC 2.21并编译GLIBC 2.21</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;mirror.rit.edu&#x2F;gnu&#x2F;libc&#x2F;glibc-2.21.tar.gz</span><br><span class="line">tar zxvf glibc-2.21.tar.gz</span><br><span class="line">mkdir glibc-2.21-build glibc-2.21-install</span><br><span class="line">cd glibc-2.21-build</span><br><span class="line">..&#x2F;glibc-2.21&#x2F;configure --prefix&#x3D;&#96;readlink -f ..&#x2F;glibc-2.21-install&#96; </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>然后就报错了：</p><blockquote><p>checking version of as… 2.20.51.0.2, bad checking version of ld… 2.20.51.0.2, bad These critical programs are missing or too old: as ld</p></blockquote><p>仔细看看INSTALL文件，要求GNU ‘binutils’ 2.22 or later，但系统只装了2.20。 2.下载并编译binutils 2.30</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget ftp:&#x2F;&#x2F;ftp.gnu.org&#x2F;gnu&#x2F;binutils&#x2F;binutils-2.30.tar.gz</span><br><span class="line">tar zxvf binutils-2.30.tar.gz</span><br><span class="line">cd binutils-2.30</span><br><span class="line">.&#x2F;configure --prefix&#x3D;&#96;readlink -f ..&#x2F;binutils-2.30-install&#96; </span><br><span class="line">make &amp;&amp; make install</span><br><span class="line">#加入环境变量</span><br><span class="line">PATH&#x3D;$HOME&#x2F;software&#x2F;binutils-2.30-install&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure><p>3.重新编译glibc 2.21</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd glibc-2.21-build</span><br><span class="line">..&#x2F;glibc-2.21&#x2F;configure --prefix&#x3D;&#96;readlink -f ..&#x2F;glibc-2.21-install&#96; </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>Warning: ignoring configuration file that cannot be opened: … /software/glibc-2.21-install/etc/ld.so.conf: No such file or directory</p></blockquote><p>将/etc 目录的ld.so.conf复制到指定目录后重新安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;etc&#x2F;ld.so.conf ..&#x2F;glibc-2.21-install&#x2F;etc&#x2F;</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>安装成功。</p><h2 id="四、运行TensorFlow"><a href="#四、运行TensorFlow" class="headerlink" title="四、运行TensorFlow"></a>四、运行TensorFlow</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source activate tensorflow</span><br><span class="line">$HOME&#x2F;software&#x2F;glibc-2.21-install&#x2F;lib&#x2F;ld-2.21.so --library-path $HOME&#x2F;anaconda3&#x2F;envs&#x2F;tensorflow&#x2F;lib:$HOME&#x2F;software&#x2F;glibc-2.21-install&#x2F;lib:&#x2F;lib64:$LD_LIBRARY_PATH &#96;which python&#96;</span><br></pre></td></tr></table></figure><p>在Python内输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Python</span><br><span class="line">import tensorflow as tf</span><br><span class="line">hello &#x3D; tf.constant(&#39;Hello, TensorFlow!&#39;)</span><br><span class="line">sess &#x3D; tf.Session()</span><br><span class="line">print(sess.run(hello))</span><br></pre></td></tr></table></figure><blockquote><p>b’Hello, TensorFlow!’</p></blockquote><p>运行成功。我们可以运行的命令记录在.bashrc中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;alias tf&#x3D;&#39;&quot;&#39;&quot;&#39;$HOME&#x2F;software&#x2F;glibc-2.21-install&#x2F;lib&#x2F;ld-2.21.so --library-path $HOME&#x2F;anaconda3&#x2F;envs&#x2F;tensorflow&#x2F;lib:$HOME&#x2F;software&#x2F;glib-2.21-install&#x2F;lib:&#x2F;lib64:$LD_LIBRARY_PATH &#96;which python&#96;&#39;&quot;&#39;&quot;&gt;&gt;$HOME&#x2F;.bashrcsource $HOME&#x2F;.bashrc</span><br></pre></td></tr></table></figure><p>即可用 tf 代替装了 TensorFlow 的 Python。</p></div></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){const e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;const e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Tong Zhu</span></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul class="links-of-recent-posts-list"><li class="links-of-recent-posts-item"><a href="/2020/05/21/elementor-677/" title="2020&#x2F;05&#x2F;21&#x2F;elementor-677&#x2F;">热风</a></li><li class="links-of-recent-posts-item"><a href="/2019/07/22/our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now/" title="2019&#x2F;07&#x2F;22&#x2F;our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now&#x2F;">Our recent work &#34;Molecular Dynamics Simulation of Zinc Ion in Water with an ab Initio Based Neural Network Potential&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/06/08/our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now/" title="2019&#x2F;06&#x2F;08&#x2F;our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now&#x2F;">Our recent work &#34;Effect of mutations on binding of ligands to guanine riboswitch probed by free energy perturbation and molecular dynamics simulations&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/05/17/congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation/" title="2019&#x2F;05&#x2F;17&#x2F;congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation&#x2F;">Congratulations to Pei, Yu, Yanping, and Jinzhe on graduation!</a></li><li class="links-of-recent-posts-item"><a href="/2019/02/27/congratulations-to-yu-and-jinzhe/" title="2019&#x2F;02&#x2F;27&#x2F;congratulations-to-yu-and-jinzhe&#x2F;">Congratulations to Yu and Jinzhe</a></li><li class="links-of-recent-posts-item"><a href="/2019/01/14/our-work-on-metal-mfcc-got-accepeted/" title="2019&#x2F;01&#x2F;14&#x2F;our-work-on-metal-mfcc-got-accepeted&#x2F;">Our work on Metal-MFCC got accepeted</a></li><li class="links-of-recent-posts-item"><a href="/2018/12/10/tong-attended-the-2018%E5%A4%8D%E6%9D%82%E4%BD%93%E7%B3%BB%E8%AE%A1%E7%AE%97%E7%BB%9F%E8%AE%A1%E5%8A%9B%E5%AD%A6%E7%A0%94%E8%AE%A8%E4%BC%9A-and-gave-a-talk-about-the-force-field-development-for-me/" title="2018&#x2F;12&#x2F;10&#x2F;tong-attended-the-2018复杂体系计算统计力学研讨会-and-gave-a-talk-about-the-force-field-development-for-me&#x2F;">Tong attended the &#34;2018复杂体系计算统计力学研讨会&#34; and gave a talk about the force field development for metallopoteins.</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now/" title="2018&#x2F;07&#x2F;07&#x2F;our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now&#x2F;">Our recent work on the conformational dynamics of Prion available online now</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/tong-attended-the-wccb-2018-and-honored-the-best-poster-award/" title="2018&#x2F;07&#x2F;07&#x2F;tong-attended-the-wccb-2018-and-honored-the-best-poster-award&#x2F;">Tong attended the WCCB 2018 and honored the Best Poster Award</a></li><li class="links-of-recent-posts-item"><a href="/2018/06/18/welcome-to-our-new-website/" title="2018&#x2F;06&#x2F;18&#x2F;welcome-to-our-new-website&#x2F;">Welcome to our new website!</a></li></ul></div></div><div class="widget"><img src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/bg.jpg" alt="" width="500" height="332"></div><div class="widget"><p><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">沪ICP备18023061号-1</a></p><p><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31009102000069"><img loading="lazy" class="alignnone wp-image-740 size-full" src="https://cdn.jsdelivr.net/gh/tongzhugroup/tongzhugroup.github.io@7cebddef46c046a7a1119199002fe15b1c2dec24/beian.png" alt="" width="20" height="20" style="display:inline">沪公网安备 31009102000069号</a></p></div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-next@8.2.0/source/js/utils.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-next@8.2.0/source/js/schemes/muse.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-next@8.2.0/source/js/next-boot.min.js"></script></body></html>