<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="https://unpkg.com/@njzjz/icons@0.0.5/computchem/logo.jpg"><link rel="icon" type="image/png" sizes="32x32" href="https://unpkg.com/@njzjz/icons@0.0.5/computchem/logo.jpg"><link rel="icon" type="image/png" sizes="16x16" href="https://unpkg.com/@njzjz/icons@0.0.5/computchem/logo.jpg"><link rel="mask-icon" href="https://unpkg.com/@njzjz/icons@0.0.5/computchem/logo.jpg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"computchem.cn","root":"/","images":"https://unpkg.com/hexo-theme-next@8.24.0/source/images","scheme":"Muse","darkmode":false,"version":"8.24.0","exturl":true,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"hide","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/config.min.js" defer></script><meta name="description" content="原作者：曾晋哲 原链接： https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;DeQZKwoyxXK7rHhhmdgTmw https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MsEtgnN\_mi-auiFyXYUquA 假定已经安装了Anaconda（建议使用最新版2019.07），已连接互联网，则 1.安装tensorflow（如仅需CPU版本的TensorFlow，则将tensorfl"><meta property="og:type" content="website"><meta property="og:title" content="[转载] 安装 DeepMD-kit v1.0"><meta property="og:url" content="https://computchem.cn/%E8%BD%AC%E8%BD%BD-%E5%AE%89%E8%A3%85-deepmd-kit-v1-0/index.html"><meta property="og:site_name" content="Tong Zhu Research Group"><meta property="og:description" content="原作者：曾晋哲 原链接： https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;DeQZKwoyxXK7rHhhmdgTmw https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MsEtgnN\_mi-auiFyXYUquA 假定已经安装了Anaconda（建议使用最新版2019.07），已连接互联网，则 1.安装tensorflow（如仅需CPU版本的TensorFlow，则将tensorfl"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-10-08T16:50:12.000Z"><meta property="article:modified_time" content="2019-10-08T16:50:12.000Z"><meta property="article:author" content="Tong Zhu"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://computchem.cn/%E8%BD%AC%E8%BD%BD-%E5%AE%89%E8%A3%85-deepmd-kit-v1-0/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":false,"lang":"en","comments":"","permalink":"https://computchem.cn/%E8%BD%AC%E8%BD%BD-%E5%AE%89%E8%A3%85-deepmd-kit-v1-0/index.html","path":"转载-安装-deepmd-kit-v1-0/index.html","title":"[转载] 安装 DeepMD-kit v1.0"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>[转载] 安装 DeepMD-kit v1.0 | Tong Zhu Research Group</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-5D2T26RQ3C"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-5D2T26RQ3C","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/third-party/analytics/google-analytics.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/utils.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/sidebar.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/next-boot.min.js" defer></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.24.0/third-party/math/mathjax.min.js" defer></script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="preconnect" href="https://images.weserv.nl"><link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.7/dist/css/bootstrap-grid.min.css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Tong Zhu Research Group</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">The first and greatest victory is to conquer yourself; to be conquered by yourself is of all things most shameful and vile!</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section">HOME</a></li><li class="menu-item menu-item-team"><a href="/people/" rel="section">TEAM</a></li><li class="menu-item menu-item-research"><a href="/research/" rel="section">RESEARCH</a></li><li class="menu-item menu-item-publications"><a href="/publications/" rel="section">PUBLICATIONS</a></li><li class="menu-item menu-item-softwares"><a href="/softwares/" rel="section">SOFTWARES</a></li><li class="menu-item menu-item-teaching"><a href="/teaching/" rel="section">TEACHING</a></li><li class="menu-item menu-item-memory"><a href="/memory/" rel="section">MEMORY</a></li><li class="menu-item menu-item-group-seminar"><a href="/group-seminar/" rel="section">GROUP SEMINAR</a></li><li class="menu-item menu-item-tips"><a href="/tips/" rel="section">TIPS</a></li></ul></nav><picture><source type="image/webp" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/header4.webp"><source type="image/jpeg" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/header4.jpg"><img loading="lazy" id="banner" src="https://unpkg.com/@njzjz/icons@0.0.5/computchem/header4.jpg" class="header-image" width="1080" height="281" alt="Tong Zhu Research Group"></picture></header><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Tong Zhu" src="https://unpkg.com/@njzjz/icons@0.0.5/computchem/logo.jpg"><p class="site-author-name" itemprop="name">Tong Zhu</p><div class="site-description" itemprop="description"></div></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul class="links-of-recent-posts-list"><li class="links-of-recent-posts-item"><a href="/2020/05/21/elementor-677/" title="2020&#x2F;05&#x2F;21&#x2F;elementor-677&#x2F;">热风</a></li><li class="links-of-recent-posts-item"><a href="/2019/07/22/our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now/" title="2019&#x2F;07&#x2F;22&#x2F;our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now&#x2F;">Our recent work &#34;Molecular Dynamics Simulation of Zinc Ion in Water with an ab Initio Based Neural Network Potential&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/06/08/our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now/" title="2019&#x2F;06&#x2F;08&#x2F;our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now&#x2F;">Our recent work &#34;Effect of mutations on binding of ligands to guanine riboswitch probed by free energy perturbation and molecular dynamics simulations&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/05/17/congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation/" title="2019&#x2F;05&#x2F;17&#x2F;congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation&#x2F;">Congratulations to Pei, Yu, Yanping, and Jinzhe on graduation!</a></li><li class="links-of-recent-posts-item"><a href="/2019/02/27/congratulations-to-yu-and-jinzhe/" title="2019&#x2F;02&#x2F;27&#x2F;congratulations-to-yu-and-jinzhe&#x2F;">Congratulations to Yu and Jinzhe</a></li><li class="links-of-recent-posts-item"><a href="/2019/01/14/our-work-on-metal-mfcc-got-accepeted/" title="2019&#x2F;01&#x2F;14&#x2F;our-work-on-metal-mfcc-got-accepeted&#x2F;">Our work on Metal-MFCC got accepeted</a></li><li class="links-of-recent-posts-item"><a href="/2018/12/10/tong-attended-the-2018%E5%A4%8D%E6%9D%82%E4%BD%93%E7%B3%BB%E8%AE%A1%E7%AE%97%E7%BB%9F%E8%AE%A1%E5%8A%9B%E5%AD%A6%E7%A0%94%E8%AE%A8%E4%BC%9A-and-gave-a-talk-about-the-force-field-development-for-me/" title="2018&#x2F;12&#x2F;10&#x2F;tong-attended-the-2018复杂体系计算统计力学研讨会-and-gave-a-talk-about-the-force-field-development-for-me&#x2F;">Tong attended the &#34;2018复杂体系计算统计力学研讨会&#34; and gave a talk about the force field development for metallopoteins.</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now/" title="2018&#x2F;07&#x2F;07&#x2F;our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now&#x2F;">Our recent work on the conformational dynamics of Prion available online now</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/tong-attended-the-wccb-2018-and-honored-the-best-poster-award/" title="2018&#x2F;07&#x2F;07&#x2F;tong-attended-the-wccb-2018-and-honored-the-best-poster-award&#x2F;">Tong attended the WCCB 2018 and honored the Best Poster Award</a></li><li class="links-of-recent-posts-item"><a href="/2018/06/18/welcome-to-our-new-website/" title="2018&#x2F;06&#x2F;18&#x2F;welcome-to-our-new-website&#x2F;">Welcome to our new website!</a></li></ul></div></div><div class="widget"><picture><source type="image/webp" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/bg.webp"><source type="image/jpeg" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/bg.jpg"><img loading="lazy" src="https://unpkg.com/@njzjz/icons@0.0.5/bg.jpg" alt="Background" width="500" height="332"></picture></div><div class="widget"><p><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">沪ICP备18023061号-1</a></p><p><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31009102000069"><picture><source type="image/svg+xml" srcset="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.svg"><source type="image/png" srcset="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.png"><img loading="lazy" src="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.png" alt="Beian" width="20" height="20" style="display:inline"></picture>沪公网安备 31009102000069号</a></p></div></div></div></div></aside></div><div class="main-inner page posts-expand"><div class="post-block" lang="en"><header class="post-header"><h1 class="post-title" itemprop="name headline">[转载] 安装 DeepMD-kit v1.0</h1><div class="post-meta-container"></div></header><div class="post-body"><p>原作者：曾晋哲</p><p>原链接： <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvRGVRWkt3b3l4WEs3ckhoaG1kZ1Rtdw==">https://mp.weixin.qq.com/s/DeQZKwoyxXK7rHhhmdgTmw<i class="fa fa-external-link-alt"></i></span> <span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTXNFdGduTi9fbWktYXVpRnlYWVVxdUE=">https://mp.weixin.qq.com/s/MsEtgnN\_mi-auiFyXYUquA<i class="fa fa-external-link-alt"></i></span></p><p>假定<span class="exturl" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vcz9fX2Jpej1Nekl5TWpBMU1EQTRNUT09Jm1pZD0yNDU1MTM0NDcyJmlkeD0xJnNuPTg2ZmY4MGVkNWQ1OTgzMTVlY2VjM2ExYzFhYjE3YWMxJmNoa3NtPWZmOTFhMzQ2YzhlNjJhNTAzNDBmNTk0NzdmMGRkMzMzZGQ1ZDMyODgyYWY0OTM2MjZkMjdjYWI3YzliNTFmMDVmZmE1MzllMWQ4NjAmc2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0">已经安装了Anaconda<i class="fa fa-external-link-alt"></i></span>（建议使用最新版2019.07），已连接互联网，则</p><p><strong>1.安装tensorflow</strong>（如仅需CPU版本的TensorFlow，则将tensorflow-gpu改为tensorflow）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install tensorflow Successfully installed google-pasta-0.1.7 keras-applications-1.0.8 opt-einsum-3.1.0 tensorboard-2.0.0 tensorflow-estimator-2.0.0 tensorflow-gpu-2.0.0</span><br></pre></td></tr></table></figure><p><strong>2.安装deepmd-kit v1.0：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install git+https://github.com/deepmodeling/deepmd-kit</span><br></pre></td></tr></table></figure><blockquote><p>Building wheels for collected packages: deepmd-kit<br>Building wheel for deepmd-kit (PEP 517) … done<br>Created wheel for deepmd-kit: filename&#x3D;deepmd_kit-1.0.0-cp37-cp37m-linux_x86_64.whl size&#x3D;268836 sha256&#x3D;1f5b1149bbf35c0c96c713cc8b607e0626ad0df6451a7 171d4f6b46acc2d4290<br>Stored in directory: &#x2F;tmp&#x2F;pip-ephem-wheel-cache-zlksq4dl&#x2F;wheels&#x2F;a2&#x2F;80&#x2F;6c&#x2F;a26fba79e43199eb4cdba7a3686c5370d3620916f5a0ea23ac<br>Successfully built deepmd-kit<br>Installing collected packages: deepmd-kit<br>Successfully built deepmd-kit<br>Installing collected packages: deepmd-kit<br>Successfully installed deepmd-kit-1.0.0</p></blockquote><p><strong>大功告成！现在看一看是否成功安装：</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp -h</span><br></pre></td></tr></table></figure><blockquote><p>usage: dp [-h] {train,freeze,test} …<br>DeePMD-kit: A deep learning package for many-body potential energy representation and molecular dynamics<br>optional arguments:  -h, –help<br>          show this help message and exit Valid subcommands:  {train,freeze,test}<br>   train              train a model<br>   freeze             freeze the model<br>   test               test the model</p></blockquote><p>现在，DeePMD-kit v1.0.0已成功安装。下一期将介绍如何用DP编译LAMMPS</p><h2 id="TensorFlow-安装"><a href="#TensorFlow-安装" class="headerlink" title="TensorFlow 安装"></a>TensorFlow 安装</h2><p>最新版本的 TensorFlow 要求 GLIBC 2.17 以上，尽管推荐做法是找一台最新系统的机子，但是有时候系统的类型不是由自己决定的，通常又没有root权限，又想在所有机子上都能运行 TensorFlow 。 刚好手里有一个超算账号，系统是 Red Hat 4.4.7 ，GLIBC 版本是 2.12 ，就以此为例，安装CPU版本的TensorFlow（反正没有权限也安装不了GPU版本需要的驱动）。</p><hr><h2 id="一、用-Anaconda-3-安装-TensorFlow-1-8"><a href="#一、用-Anaconda-3-安装-TensorFlow-1-8" class="headerlink" title="一、用 Anaconda 3 安装 TensorFlow 1.8"></a>一、用 Anaconda 3 安装 TensorFlow 1.8</h2><p>1.安装 Anaconda 3 见<span class="exturl" data-url="aHR0cDovL21wLndlaXhpbi5xcS5jb20vcz9fX2Jpej1Nekl5TWpBMU1EQTRNUT09Jm1pZD0yNDU1MTM0NDcyJmlkeD0xJnNuPTg2ZmY4MGVkNWQ1OTgzMTVlY2VjM2ExYzFhYjE3YWMxJmNoa3NtPWZmOTFhMzQ2YzhlNjJhNTAzNDBmNTk0NzdmMGRkMzMzZGQ1ZDMyODgyYWY0OTM2MjZkMjdjYWI3YzliNTFmMDVmZmE1MzllMWQ4NjAmc2NlbmU9MjEjd2VjaGF0X3JlZGlyZWN0">Linux软件安装②Anaconda3<i class="fa fa-external-link-alt"></i></span> 2.创建 TensorFlow 环境</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda create -n tensorflow pip python=3.6</span><br><span class="line">#Proceed ([y]/n)? 输y</span><br><span class="line">source activate tensorflow #激活环境</span><br><span class="line">pip install tensorflow -i https://pypi.tuna.tsinghua.edu.cn/simple/</span><br><span class="line">#这两天由于众所周知的原因，Google官方的镜像又下载不了了，所以这里用了清华大学的镜像</span><br></pre></td></tr></table></figure><h2 id="二、安装-gcc"><a href="#二、安装-gcc" class="headerlink" title="二、安装 gcc"></a>二、安装 gcc</h2><p>这时候打开 Python ，执行 import tensorflow ，提示：</p><blockquote><p>ImportError: &#x2F;usr&#x2F;lib64&#x2F;libstdc++.so.6: version `CXXABI_1.3.7’ not found</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda install -c psi4 gcc-5 </span><br><span class="line">#Proceed ([y]/n)? 输y</span><br><span class="line">LD_LIBRARY_PATH=$HOME/anaconda3/envs/tensorflow/lib:$LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure><p>再此运行 Python，不再提示这个问题。</p><h2 id="三、安装-GLIBC-2-21"><a href="#三、安装-GLIBC-2-21" class="headerlink" title="三、安装 GLIBC 2.21"></a>三、安装 GLIBC 2.21</h2><p>但是提示：</p><blockquote><p>ImportError: &#x2F;lib64&#x2F;libc.so.6: version `GLIBC_2.16’ not found</p></blockquote><p>本来应该安装GLIBC 2.17，但是我发现从2.16到2.19都有个bug，不能运行Python 3.6。于是我们安装GLIBC 2.21。 1.下载GLIBC 2.21并编译GLIBC 2.21</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirror.rit.edu/gnu/libc/glibc-2.21.tar.gz</span><br><span class="line">tar zxvf glibc-2.21.tar.gz</span><br><span class="line">mkdir glibc-2.21-build glibc-2.21-install</span><br><span class="line">cd glibc-2.21-build</span><br><span class="line">../glibc-2.21/configure --prefix=`readlink -f ../glibc-2.21-install` </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>然后就报错了：</p><blockquote><p>checking version of as… 2.20.51.0.2, bad checking version of ld… 2.20.51.0.2, bad These critical programs are missing or too old: as ld</p></blockquote><p>仔细看看INSTALL文件，要求GNU ‘binutils’ 2.22 or later，但系统只装了2.20。 2.下载并编译binutils 2.30</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://ftp.gnu.org/gnu/binutils/binutils-2.30.tar.gz</span><br><span class="line">tar zxvf binutils-2.30.tar.gz</span><br><span class="line">cd binutils-2.30</span><br><span class="line">./configure --prefix=`readlink -f ../binutils-2.30-install` </span><br><span class="line">make &amp;&amp; make install</span><br><span class="line">#加入环境变量</span><br><span class="line">PATH=$HOME/software/binutils-2.30-install/bin:$PATH</span><br></pre></td></tr></table></figure><p>3.重新编译glibc 2.21</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd glibc-2.21-build</span><br><span class="line">../glibc-2.21/configure --prefix=`readlink -f ../glibc-2.21-install` </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>Warning: ignoring configuration file that cannot be opened: … &#x2F;software&#x2F;glibc-2.21-install&#x2F;etc&#x2F;ld.so.conf: No such file or directory</p></blockquote><p>将&#x2F;etc 目录的ld.so.conf复制到指定目录后重新安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/ld.so.conf ../glibc-2.21-install/etc/</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>安装成功。</p><h2 id="四、运行TensorFlow"><a href="#四、运行TensorFlow" class="headerlink" title="四、运行TensorFlow"></a>四、运行TensorFlow</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source activate tensorflow</span><br><span class="line">$HOME/software/glibc-2.21-install/lib/ld-2.21.so --library-path $HOME/anaconda3/envs/tensorflow/lib:$HOME/software/glibc-2.21-install/lib:/lib64:$LD_LIBRARY_PATH `which python`</span><br></pre></td></tr></table></figure><p>在Python内输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Python</span><br><span class="line">import tensorflow as tf</span><br><span class="line">hello = tf.constant(&#x27;Hello, TensorFlow!&#x27;)</span><br><span class="line">sess = tf.Session()</span><br><span class="line">print(sess.run(hello))</span><br></pre></td></tr></table></figure><blockquote><p>b’Hello, TensorFlow!’</p></blockquote><p>运行成功。我们可以运行的命令记录在.bashrc中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;alias tf=&#x27;&quot;&#x27;&quot;&#x27;$HOME/software/glibc-2.21-install/lib/ld-2.21.so --library-path $HOME/anaconda3/envs/tensorflow/lib:$HOME/software/glib-2.21-install/lib:/lib64:$LD_LIBRARY_PATH `which python`&#x27;&quot;&#x27;&quot;&gt;&gt;$HOME/.bashrcsource $HOME/.bashrc</span><br></pre></td></tr></table></figure><p>即可用 tf 代替装了 TensorFlow 的 Python。</p></div></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Tong Zhu</span></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul class="links-of-recent-posts-list"><li class="links-of-recent-posts-item"><a href="/2020/05/21/elementor-677/" title="2020&#x2F;05&#x2F;21&#x2F;elementor-677&#x2F;">热风</a></li><li class="links-of-recent-posts-item"><a href="/2019/07/22/our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now/" title="2019&#x2F;07&#x2F;22&#x2F;our-recent-work-molecular-dynamics-simulation-of-zinc-ion-in-water-with-an-ab-initio-based-neural-network-potential-available-online-now&#x2F;">Our recent work &#34;Molecular Dynamics Simulation of Zinc Ion in Water with an ab Initio Based Neural Network Potential&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/06/08/our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now/" title="2019&#x2F;06&#x2F;08&#x2F;our-recent-work-effect-of-mutations-on-binding-of-ligands-to-guanine-riboswitch-probed-by-free-energy-perturbation-and-molecular-dynamics-simulations-available-online-now&#x2F;">Our recent work &#34;Effect of mutations on binding of ligands to guanine riboswitch probed by free energy perturbation and molecular dynamics simulations&#34; available online now.</a></li><li class="links-of-recent-posts-item"><a href="/2019/05/17/congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation/" title="2019&#x2F;05&#x2F;17&#x2F;congratulations-to-pei-yu-yanping-and-jinzhe-on-graduation&#x2F;">Congratulations to Pei, Yu, Yanping, and Jinzhe on graduation!</a></li><li class="links-of-recent-posts-item"><a href="/2019/02/27/congratulations-to-yu-and-jinzhe/" title="2019&#x2F;02&#x2F;27&#x2F;congratulations-to-yu-and-jinzhe&#x2F;">Congratulations to Yu and Jinzhe</a></li><li class="links-of-recent-posts-item"><a href="/2019/01/14/our-work-on-metal-mfcc-got-accepeted/" title="2019&#x2F;01&#x2F;14&#x2F;our-work-on-metal-mfcc-got-accepeted&#x2F;">Our work on Metal-MFCC got accepeted</a></li><li class="links-of-recent-posts-item"><a href="/2018/12/10/tong-attended-the-2018%E5%A4%8D%E6%9D%82%E4%BD%93%E7%B3%BB%E8%AE%A1%E7%AE%97%E7%BB%9F%E8%AE%A1%E5%8A%9B%E5%AD%A6%E7%A0%94%E8%AE%A8%E4%BC%9A-and-gave-a-talk-about-the-force-field-development-for-me/" title="2018&#x2F;12&#x2F;10&#x2F;tong-attended-the-2018复杂体系计算统计力学研讨会-and-gave-a-talk-about-the-force-field-development-for-me&#x2F;">Tong attended the &#34;2018复杂体系计算统计力学研讨会&#34; and gave a talk about the force field development for metallopoteins.</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now/" title="2018&#x2F;07&#x2F;07&#x2F;our-recent-work-on-the-conformational-dynamics-of-prion-available-online-now&#x2F;">Our recent work on the conformational dynamics of Prion available online now</a></li><li class="links-of-recent-posts-item"><a href="/2018/07/07/tong-attended-the-wccb-2018-and-honored-the-best-poster-award/" title="2018&#x2F;07&#x2F;07&#x2F;tong-attended-the-wccb-2018-and-honored-the-best-poster-award&#x2F;">Tong attended the WCCB 2018 and honored the Best Poster Award</a></li><li class="links-of-recent-posts-item"><a href="/2018/06/18/welcome-to-our-new-website/" title="2018&#x2F;06&#x2F;18&#x2F;welcome-to-our-new-website&#x2F;">Welcome to our new website!</a></li></ul></div></div><div class="widget"><picture><source type="image/webp" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/bg.webp"><source type="image/jpeg" srcset="https://unpkg.com/@njzjz/icons@0.0.5/computchem/bg.jpg"><img loading="lazy" src="https://unpkg.com/@njzjz/icons@0.0.5/bg.jpg" alt="Background" width="500" height="332"></picture></div><div class="widget"><p><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">沪ICP备18023061号-1</a></p><p><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31009102000069"><picture><source type="image/svg+xml" srcset="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.svg"><source type="image/png" srcset="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.png"><img loading="lazy" src="https://unpkg.com/@njzjz/icons@0.0.5/beian/beian.png" alt="Beian" width="20" height="20" style="display:inline"></picture>沪公网安备 31009102000069号</a></p></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript></body></html>